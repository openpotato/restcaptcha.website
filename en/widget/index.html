<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation of the RESTCaptcha project"><meta name=author content="STÜBER SYSTEMS GmbH"><link href=https://restcaptcha.openpotato.org/widget/ rel=canonical><link href=../security/ rel=prev><link href=../api/ rel=next><link rel=icon href=../assets/logos/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Widget - RESTCaptcha</title><link rel=stylesheet href=../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../assets/css/custom.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=RESTCaptcha class="md-header__button md-logo" aria-label=RESTCaptcha data-md-component=logo> <img src=../assets/logos/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> RESTCaptcha </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Widget </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=green aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=green aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=/de/ hreflang=de class=md-select__link> Deutsch </a> </li> <li class=md-select__item> <a href=.. hreflang=en class=md-select__link> English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/openpotato/restcaptcha title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> On GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=RESTCaptcha class="md-nav__button md-logo" aria-label=RESTCaptcha data-md-component=logo> <img src=../assets/logos/logo.svg alt=logo> </a> RESTCaptcha </label> <div class=md-nav__source> <a href=https://github.com/openpotato/restcaptcha title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> On GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Introduction </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> What is RESTCaptcha? </span> </a> </li> <li class=md-nav__item> <a href=../captcha/ class=md-nav__link> <span class=md-ellipsis> What are CAPTCHAs? </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ubuntu/ class=md-nav__link> <span class=md-ellipsis> On Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../windows/ class=md-nav__link> <span class=md-ellipsis> On Windows </span> </a> </li> <li class=md-nav__item> <a href=../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../integration/ class=md-nav__link> <span class=md-ellipsis> Integration </span> </a> </li> <li class=md-nav__item> <a href=../security/ class=md-nav__link> <span class=md-ellipsis> Additional measures </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Widget </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Widget </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#headlessrestcaptcha class=md-nav__link> <span class=md-ellipsis> HeadlessRestCaptcha </span> </a> <nav class=md-nav aria-label=HeadlessRestCaptcha> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#properties class=md-nav__link> <span class=md-ellipsis> Properties </span> </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#restcaptcha class=md-nav__link> <span class=md-ellipsis> RestCaptcha </span> </a> <nav class=md-nav aria-label=RestCaptcha> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_1 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#restcaptchaproblemdetails class=md-nav__link> <span class=md-ellipsis> RestCaptchaProblemDetails </span> </a> <nav class=md-nav aria-label=RestCaptchaProblemDetails> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_2 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#properties_1 class=md-nav__link> <span class=md-ellipsis> Properties </span> </a> </li> <li class=md-nav__item> <a href=#instance-methods class=md-nav__link> <span class=md-ellipsis> Instance methods </span> </a> </li> <li class=md-nav__item> <a href=#static-methods class=md-nav__link> <span class=md-ellipsis> Static methods </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#widget-data-attributes class=md-nav__link> <span class=md-ellipsis> Widget data-* attributes </span> </a> <nav class=md-nav aria-label="Widget data-* attributes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-configuration class=md-nav__link> <span class=md-ellipsis> Basic configuration </span> </a> </li> <li class=md-nav__item> <a href=#callback-attributes class=md-nav__link> <span class=md-ellipsis> Callback attributes </span> </a> </li> <li class=md-nav__item> <a href=#css-class-attributes class=md-nav__link> <span class=md-ellipsis> CSS class attributes </span> </a> </li> <li class=md-nav__item> <a href=#external-links class=md-nav__link> <span class=md-ellipsis> External links </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#events-callbacks class=md-nav__link> <span class=md-ellipsis> Events &amp; callbacks </span> </a> </li> <li class=md-nav__item> <a href=#automatic-initialisation class=md-nav__link> <span class=md-ellipsis> Automatic initialisation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> Server API </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../change-log/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../libraries/ class=md-nav__link> <span class=md-ellipsis> Client Libraries </span> </a> </li> <li class=md-nav__item> <a href=../community/ class=md-nav__link> <span class=md-ellipsis> Community </span> </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#headlessrestcaptcha class=md-nav__link> <span class=md-ellipsis> HeadlessRestCaptcha </span> </a> <nav class=md-nav aria-label=HeadlessRestCaptcha> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#properties class=md-nav__link> <span class=md-ellipsis> Properties </span> </a> </li> <li class=md-nav__item> <a href=#events class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#restcaptcha class=md-nav__link> <span class=md-ellipsis> RestCaptcha </span> </a> <nav class=md-nav aria-label=RestCaptcha> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_1 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#restcaptchaproblemdetails class=md-nav__link> <span class=md-ellipsis> RestCaptchaProblemDetails </span> </a> <nav class=md-nav aria-label=RestCaptchaProblemDetails> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructor_2 class=md-nav__link> <span class=md-ellipsis> Constructor </span> </a> </li> <li class=md-nav__item> <a href=#properties_1 class=md-nav__link> <span class=md-ellipsis> Properties </span> </a> </li> <li class=md-nav__item> <a href=#instance-methods class=md-nav__link> <span class=md-ellipsis> Instance methods </span> </a> </li> <li class=md-nav__item> <a href=#static-methods class=md-nav__link> <span class=md-ellipsis> Static methods </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#widget-data-attributes class=md-nav__link> <span class=md-ellipsis> Widget data-* attributes </span> </a> <nav class=md-nav aria-label="Widget data-* attributes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-configuration class=md-nav__link> <span class=md-ellipsis> Basic configuration </span> </a> </li> <li class=md-nav__item> <a href=#callback-attributes class=md-nav__link> <span class=md-ellipsis> Callback attributes </span> </a> </li> <li class=md-nav__item> <a href=#css-class-attributes class=md-nav__link> <span class=md-ellipsis> CSS class attributes </span> </a> </li> <li class=md-nav__item> <a href=#external-links class=md-nav__link> <span class=md-ellipsis> External links </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#events-callbacks class=md-nav__link> <span class=md-ellipsis> Events &amp; callbacks </span> </a> </li> <li class=md-nav__item> <a href=#automatic-initialisation class=md-nav__link> <span class=md-ellipsis> Automatic initialisation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Widget</h1> <p>This reference documents all important public classes, properties, and methods, as well as the available HTML attributes (<code>data-*</code>) and events of the <code>restcaptcha.js</code> library.</p> <h2 id=overview>Overview</h2> <p>The RESTCaptcha JavaScript library provides the code required for client-side integration of RESTCaptcha into your own websites.</p> <p>It comes in two variants:</p> <ul> <li><code>restcaptcha.js</code>: The original, readable version.</li> <li><code>restcaptcha.min.js</code>: A minified version with all unnecessary characters removed to reduce file size and improve browser load times.</li> </ul> <p>The library consists of two main components:</p> <ol> <li> <p><code>HeadlessRestCaptcha</code>: A pure JavaScript client without a user interface (headless). It communicates directly with the RESTCaptcha API, solves the cryptographic challenge, and returns the result via events or callbacks. This variant is suitable for integrating with your own UIs or framework solutions.</p> </li> <li> <p><code>RestCaptcha</code>: A visual widget built on top of the headless client that automatically renders a simple user interface in the browser. It can be freely configured via HTML attributes, and supports multiple languages and modes (interactive, automatic, or invisible).</p> </li> </ol> <h2 id=headlessrestcaptcha>HeadlessRestCaptcha</h2> <p>A UI-less client that communicates directly with the RESTCaptcha API, solves a proof-of-work, and is driven via events (callbacks).</p> <h3 id=constructor>Constructor</h3> <div class=highlight><pre><span></span><code><span class=ow>new</span><span class=w> </span><span class=nx>HeadlessRestCaptcha</span><span class=p>(</span><span class=nx>apiBaseUrl</span><span class=p>,</span><span class=w> </span><span class=nx>siteKey</span><span class=p>,</span><span class=w> </span><span class=nx>language</span><span class=p>)</span>
</code></pre></div> <p>Parameters:</p> <dl> <dt><strong><code>apiBaseUrl</code></strong></dt> <dd> <p>Base URL of the RESTCaptcha backend (<strong>required</strong>)</p> </dd> <dt><strong><code>siteKey</code></strong></dt> <dd> <p>The RESTCaptcha site key (<strong>required</strong>)</p> </dd> <dt><strong><code>language</code></strong></dt> <dd> <p>Language code (e.g. <code>"en"</code>). Auto-detected if empty.</p> </dd> </dl> <h3 id=properties>Properties</h3> <dl> <dt><strong><code>HeadlessRestCaptcha.language</code></strong></dt> <dd> <p>Effective language code.</p> </dd> </dl> <h3 id=events>Events</h3> <dl> <dt><strong><code>HeadlessRestCaptcha.onStarted</code></strong></dt> <dd> <p>Function invoked when solving starts.</p> </dd> <dt><strong><code>HeadlessRestCaptcha.onSolved</code></strong></dt> <dd> <p>Function invoked when the CAPTCHA has been solved successfully.</p> </dd> <dt><strong><code>HeadlessRestCaptcha.onFailed</code></strong></dt> <dd> <p>Function invoked on failures (e.g. invalid token, too many attempts).</p> </dd> <dt><strong><code>HeadlessRestCaptcha.onError</code></strong></dt> <dd> <p>Function invoked on unexpected errors.</p> </dd> <dt><strong><code>HeadlessRestCaptcha.onReset</code></strong></dt> <dd> <p>Function invoked after a reset.</p> </dd> </dl> <h3 id=methods>Methods</h3> <dl> <dt><strong><code>HeadlessRestCaptcha.solve()</code></strong></dt> <dd> <p>Starts backend communication, retrieves a challenge, solves the proof-of-work (SHA-256/384/512), and on success calls <code>onSolved(token, solution)</code>.</p> </dd> <dt><strong><code>HeadlessRestCaptcha.reset(token)</code></strong></dt> <dd> <p>Invalidates a previously obtained token.</p> </dd> <dt><strong><code>HeadlessRestCaptcha.isHeadless()</code></strong></dt> <dd> <p>Checks whether the calling browser is most likely headless or automated.</p> </dd> </dl> <h2 id=restcaptcha>RestCaptcha</h2> <p>The visible CAPTCHA widget that automatically renders HTML and interacts with the integrated headless client.</p> <h3 id=constructor_1>Constructor</h3> <div class=highlight><pre><span></span><code><span class=ow>new</span><span class=w> </span><span class=nx>RestCaptcha</span><span class=p>(</span><span class=nx>widgetId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;restcaptcha-widget&quot;</span><span class=p>)</span>
</code></pre></div> <p>Parameter:</p> <dl> <dt><strong><code>widgetId</code></strong></dt> <dd> <p>The ID of the widget in the browser DOM (<strong>required</strong>)</p> </dd> </dl> <h2 id=restcaptchaproblemdetails>RestCaptchaProblemDetails</h2> <p>Implements the <a href=https://datatracker.ietf.org/doc/html/rfc9457>RFC 9457 Problem Details</a> standard for structured API errors. Extends JavaScript’s <code>Error</code> class.</p> <h3 id=constructor_2>Constructor</h3> <div class=highlight><pre><span></span><code><span class=ow>new</span><span class=w> </span><span class=nx>RestCaptchaProblemDetails</span><span class=p>({</span>
<span class=w>  </span><span class=nx>type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;about:blank&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>title</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Unknown error&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>,</span>
<span class=w>  </span><span class=nx>detail</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
<span class=w>  </span><span class=nx>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
<span class=w>  </span><span class=nx>traceId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>,</span>
<span class=w>  </span><span class=nx>errors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span>
<span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{})</span>
</code></pre></div> <p>The parameter is an anonymous object with the corresponding properties (see the next section, “Properties”).</p> <h3 id=properties_1>Properties</h3> <dl> <dt><strong><code>RestCaptchaProblemDetails.type</code></strong></dt> <dd> <p>URI describing the error type.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.title</code></strong></dt> <dd> <p>Short, human-readable summary.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.status</code></strong></dt> <dd> <p>HTTP status code.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.detail</code></strong></dt> <dd> <p>Detailed error description.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.instance</code></strong></dt> <dd> <p>URI identifying this error occurrence.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.traceId</code></strong></dt> <dd> <p>Server-side diagnostic ID.</p> </dd> <dt><strong><code>RestCaptchaProblemDetails.errors</code></strong></dt> <dd> <p>Field-level validation errors (optional).</p> </dd> </dl> <h3 id=instance-methods>Instance methods</h3> <dl> <dt><strong><code>RestCaptchaProblemDetails.toString()</code></strong></dt> <dd> <p>Returns the error as <code>[Status] Title: Detail</code>.</p> </dd> </dl> <h3 id=static-methods>Static methods</h3> <dl> <dt><strong><code>RestCaptchaProblemDetails.fromResponse(response, json)</code></strong></dt> <dd> <p>Creates a <code>RestCaptchaProblemDetails</code> instance from a <code>fetch()</code> response and its JSON body.</p> </dd> </dl> <h2 id=widget-data-attributes>Widget <code>data-*</code> attributes</h2> <p>These HTML attributes control the widget’s behaviour and appearance.</p> <h3 id=basic-configuration>Basic configuration</h3> <dl> <dt><strong><code>data-api-baseurl</code></strong></dt> <dd> <p>Base URL of the RESTCaptcha API (<strong>required</strong>)</p> </dd> <dt><strong><code>data-sitekey</code></strong></dt> <dd> <p>Public site key (<strong>required</strong>)</p> </dd> <dt><strong><code>data-widget-language</code></strong></dt> <dd> <p>Language code (<code>de</code>, <code>en</code>, <code>es</code>, <code>fr</code>, <code>it</code>, <code>pt</code>). By default, the script attempts to detect the language from the browser, falling back to <code>en</code>.</p> </dd> <dt><strong><code>data-widget-mode</code></strong></dt> <dd> <p>Mode. Possible values are <code>interactive</code> (default), <code>auto</code>, or <code>invisible</code>.</p> </dd> </dl> <h3 id=callback-attributes>Callback attributes</h3> <dl> <dt><strong><code>data-callback-started</code> &gt; <code>() =&gt; void</code></strong></dt> <dd> <p>Callback after the challenge has started on the client.</p> </dd> <dt><strong><code>data-callback-solved</code> &gt; <code>(token, solution) =&gt; void</code></strong></dt> <dd> <p>Callback after a successful verification has been reported.</p> </dd> <dt><strong><code>data-callback-failed</code> &gt; <code>(message) =&gt; void</code></strong></dt> <dd> <p>Callback after an invalid verification has been reported.</p> </dd> <dt><strong><code>data-callback-error</code> &gt; <code>(error) =&gt; void</code></strong></dt> <dd> <p>Callback after an API error has been reported.</p> </dd> <dt><strong><code>data-callback-reset</code> &gt; <code>(token) =&gt; void</code></strong></dt> <dd> <p>Callback after the reset link has been clicked.</p> </dd> </dl> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>onCaptchaSolved</span><span class=p>(</span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Solved:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>);</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;restcaptcha-widget&quot;</span>
     <span class=na>data-api-baseurl</span><span class=o>=</span><span class=s>&quot;https://captcha.example.com/v1/&quot;</span>
     <span class=na>data-sitekey</span><span class=o>=</span><span class=s>&quot;&lt;My-Site-Key&gt;&quot;</span>
     <span class=na>data-widget-language</span><span class=o>=</span><span class=s>&quot;en&quot;</span>
     <span class=na>data-callback-solved</span><span class=o>=</span><span class=s>&quot;onCaptchaSolved&quot;</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h3 id=css-class-attributes>CSS class attributes</h3> <p>The widget allows full control over CSS classes via <code>data-widget-css-*</code> attributes.</p> <p>Some attributes are specific to certain visual states (e.g. <code>data-widget-css-interactive</code>), while others are used across all states (e.g. <code>data-widget-css-footer</code>). In combination with the HTML nodes’ <code>id</code> values, this provides maximum flexibility.</p> <p>Example for <a href=https://getbootstrap.com/ >Bootstrap 5</a>:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> 
  <span class=na>id</span><span class=o>=</span><span class=s>&quot;restcaptcha-widget&quot;</span> 
  <span class=na>data-api-baseurl</span><span class=o>=</span><span class=s>&quot;https://captcha.example.com/v1/&quot;</span>
  <span class=na>data-sitekey</span><span class=o>=</span><span class=s>&quot;&lt;My-Site-Key&gt;&quot;</span>
  <span class=na>data-widget-language</span><span class=o>=</span><span class=s>&quot;en&quot;</span>
  <span class=na>data-widget-mode</span><span class=o>=</span><span class=s>&quot;interactive&quot;</span> 
  <span class=na>data-widget-css-interactive</span><span class=o>=</span><span class=s>&quot;alert alert-light&quot;</span>
  <span class=na>data-widget-css-interactive-body</span><span class=o>=</span><span class=s>&quot;form-check&quot;</span>
  <span class=na>data-widget-css-interactive-checkbox</span><span class=o>=</span><span class=s>&quot;form-check-input&quot;</span>
  <span class=na>data-widget-css-interactive-checklabel</span><span class=o>=</span><span class=s>&quot;form-check-label&quot;</span>
  <span class=na>data-widget-css-solving</span><span class=o>=</span><span class=s>&quot;alert alert-light&quot;</span>
  <span class=na>data-widget-css-solving-body</span><span class=o>=</span><span class=s>&quot;d-flex align-items-center&quot;</span>
  <span class=na>data-widget-css-solving-animation</span><span class=o>=</span><span class=s>&quot;spinner-border spinner-border-sm me-3&quot;</span>
  <span class=na>data-widget-css-solved</span><span class=o>=</span><span class=s>&quot;alert alert-success&quot;</span>
  <span class=na>data-widget-css-solved-body</span><span class=o>=</span><span class=s>&quot;d-flex align-items-center&quot;</span>
  <span class=na>data-widget-css-solved-icon</span><span class=o>=</span><span class=s>&quot;me-2&quot;</span>
  <span class=na>data-widget-css-solved-text</span><span class=o>=</span><span class=s>&quot;fw-bold&quot;</span>
  <span class=na>data-widget-css-failed</span><span class=o>=</span><span class=s>&quot;alert alert-warning&quot;</span>
  <span class=na>data-widget-css-failed-body</span><span class=o>=</span><span class=s>&quot;d-flex align-items-center&quot;</span>
  <span class=na>data-widget-css-failed-icon</span><span class=o>=</span><span class=s>&quot;me-2&quot;</span>
  <span class=na>data-widget-css-error</span><span class=o>=</span><span class=s>&quot;alert alert-danger&quot;</span>
  <span class=na>data-widget-css-error-body</span><span class=o>=</span><span class=s>&quot;d-flex align-items-center&quot;</span>
  <span class=na>data-widget-css-error-icon</span><span class=o>=</span><span class=s>&quot;me-2&quot;</span>
  <span class=na>data-widget-css-footer</span><span class=o>=</span><span class=s>&quot;d-flex justify-content-end align-items-center mt-3 mb-1 gap-2&quot;</span>
  <span class=na>data-widget-css-links</span><span class=o>=</span><span class=s>&quot;d-flex gap-2&quot;</span>
  <span class=na>data-widget-css-link-external</span><span class=o>=</span><span class=s>&quot;link-secondary link-offset-1&quot;</span>
  <span class=na>data-widget-css-link-reset</span><span class=o>=</span><span class=s>&quot;link-offset-1&quot;</span>
<span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>Below are all five possible RESTCaptcha visual states in abstract form.</p> <p>UI for the interactive mode:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-interactive&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-interactive}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;alert&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-interactive-body&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-interactiveBody}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-interactive-checkbox&quot;</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;checkbox&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-interactiveCheckBox}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>label</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-interactive-checklabel&quot;</span> <span class=na>for</span><span class=o>=</span><span class=s>&quot;${widgetId}-interactive-checkbox&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-interactiveCheckLabel}&quot;</span><span class=p>&gt;</span>
            // Text
        <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>  
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-footer&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-footer}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-logo&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-logo}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;img&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;</span>
            // RESTCaptcha Logo
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>small</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-links&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-links}&quot;</span><span class=p>&gt;</span>
            // External Links
        <span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>UI for the solving state:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-solving&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solving}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;alert&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-solving-body&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvingBody}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-solving-animation&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvingAnimation}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;status&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-solving-text&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvingText}&quot;</span><span class=p>&gt;</span>
            // Text
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-footer&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-footer}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-logo&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-logo}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;img&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;</span>
            // RESTCaptcha Logo
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>small</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-links&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-links}&quot;</span><span class=p>&gt;</span>
            // External Links
        <span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>UI for a successfully validated challenge:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-success&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solved}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;alert&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-success-body&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvedBody}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-success-icon&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvedIcon}&quot;</span><span class=p>&gt;</span>
            // Icon
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-success-text&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-solvedText}&quot;</span><span class=p>&gt;</span>
            // Text
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-footer&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-footer}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-logo&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-logo}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;img&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;</span>
            // RESTCaptcha Logo
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>small</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-links&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-links}&quot;</span><span class=p>&gt;</span>
            // External Links
        <span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>UI for a failed challenge:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-failed&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-failed}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;alert&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-failed-body&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-failedBody}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-failed-icon&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-failedIcon}&quot;</span><span class=p>&gt;</span>
            // Icon
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-failed-text&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-failedText}&quot;</span><span class=p>&gt;</span>
            // Error message
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-footer&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-footer}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-logo&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-logo}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;img&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;</span>
            // RESTCaptcha Logo
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>small</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-links&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-links}&quot;</span><span class=p>&gt;</span>
            // External Links
        <span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <p>UI for API errors:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-error&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-error}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;alert&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-error-body&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-errorBody}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-error-icon&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-errorIcon}&quot;</span><span class=p>&gt;</span>
            // Icon
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;restcaptcha-error-text&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-errorText}&quot;</span><span class=p>&gt;</span>
            // Error message
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-footer&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-footer}&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-logo&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-logo}&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;img&quot;</span> <span class=na>aria-hidden</span><span class=o>=</span><span class=s>&quot;true&quot;</span><span class=p>&gt;</span>
            // RESTCaptcha Logo
        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>small</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;${widgetId}-links&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;${data-widget-css-links}&quot;</span><span class=p>&gt;</span>
            // External Links
        <span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h3 id=external-links>External links</h3> <p>You can display up to eight additional links, e.g. to privacy or legal information.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;restcaptcha-widget&quot;</span>
  <span class=na>data-widget-external-link1-href</span><span class=o>=</span><span class=s>&quot;https://www.example.com/restcaptcha&quot;</span>
  <span class=na>data-widget-external-link1-text</span><span class=o>=</span><span class=s>&quot;About RESTCaptcha&quot;</span>
  <span class=na>data-widget-external-link2-href</span><span class=o>=</span><span class=s>&quot;https://www.example.com/privacy&quot;</span>
  <span class=na>data-widget-external-link2-text</span><span class=o>=</span><span class=s>&quot;Privacy&quot;</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h2 id=events-callbacks>Events &amp; callbacks</h2> <p>There are two approaches to handling events: programmatic (headless) or declarative (via HTML attributes).</p> <p>Programmatic:</p> <div class=highlight><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>h</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>HeadlessRestCaptcha</span><span class=p>(</span><span class=nx>api</span><span class=p>,</span><span class=w> </span><span class=nx>siteKey</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;de&#39;</span><span class=p>);</span>

<span class=nx>h</span><span class=p>.</span><span class=nx>onStarted</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Started&quot;</span><span class=p>);</span>
<span class=nx>h</span><span class=p>.</span><span class=nx>onSolved</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Solved:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>);</span>
<span class=nx>h</span><span class=p>.</span><span class=nx>onFailed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>msg</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>alert</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span>
<span class=nx>h</span><span class=p>.</span><span class=nx>onError</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
<span class=nx>h</span><span class=p>.</span><span class=nx>onReset</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Reset&quot;</span><span class=p>);</span>

<span class=nx>h</span><span class=p>.</span><span class=nx>solve</span><span class=p>();</span>
</code></pre></div> <p>Declarative:</p> <div class=highlight><pre><span></span><code><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>captchaStarted</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Started&quot;</span><span class=p>);</span><span class=w> </span><span class=p>}</span>
<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>captchaSolved</span><span class=p>(</span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;Solved:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>token</span><span class=p>,</span><span class=w> </span><span class=nx>solution</span><span class=p>);</span><span class=w> </span><span class=p>}</span>
<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>captchaFailed</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>alert</span><span class=p>(</span><span class=nx>msg</span><span class=p>);</span><span class=w> </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;restcaptcha-widget&quot;</span>
  <span class=na>data-api-baseurl</span><span class=o>=</span><span class=s>&quot;https://captcha.example.com/v1/&quot;</span>
  <span class=na>data-sitekey</span><span class=o>=</span><span class=s>&quot;&lt;My-Site-Key&gt;&quot;</span>
  <span class=na>data-callback-started</span><span class=o>=</span><span class=s>&quot;captchaStarted&quot;</span>
  <span class=na>data-callback-solved</span><span class=o>=</span><span class=s>&quot;captchaSolved&quot;</span>
  <span class=na>data-callback-failed</span><span class=o>=</span><span class=s>&quot;captchaFailed&quot;</span><span class=p>&gt;</span>
  ...
<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</code></pre></div> <h2 id=automatic-initialisation>Automatic initialisation</h2> <p>On document load (<code>DOMContentLoaded</code>), the script automatically looks for an element with the ID <code>restcaptcha-widget</code> and initialises it with:</p> <div class=highlight><pre><span></span><code><span class=ow>new</span><span class=w> </span><span class=nx>RestCaptcha</span><span class=p>(</span><span class=s2>&quot;restcaptcha-widget&quot;</span><span class=p>);</span>
</code></pre></div> <p>If the element is missing, nothing further happens.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../security/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Additional measures"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Additional measures </div> </div> </a> <a href=../api/ class="md-footer__link md-footer__link--next" aria-label="Next: Server API"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Server API </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 STÜBER SYSTEMS GmbH : <a href=https://legal.stueber.de/en/imprint.php>Imprint</a> : <a href=https://legal.stueber.de/en/privacy.php>Privacy</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://bsky.app/profile/openpotato.org target=_blank rel=noopener title=bsky.app class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3M288 227.1c-26.1-50.7-97.1-145.2-163.1-191.8C61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1"/></svg> </a> <a href=https://fosstodon.org/@openpotato target=_blank rel="noopener me" title=fosstodon.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.copy", "navigation.footer", "navigation.instant", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>